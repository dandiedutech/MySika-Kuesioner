function _0x3a0c(_0x1b2c,_0x3d4e='info',_0x4a5f=3000){const _0x6b7c=document.getElementById('mysika-toast');if(_0x6b7c){_0x6b7c.remove()}const _0x8d9e=document.createElement('div');_0x8d9e.id='mysika-toast';_0x8d9e.className=`mysika-toast mysika-toast-${_0x3d4e}`;_0x8d9e.innerHTML=`
        <div class="mysika-toast-icon"></div>
        <div class="mysika-toast-message">${_0x1b2c}</div>
    `;document.body.appendChild(_0x8d9e);setTimeout(()=>_0x8d9e.classList.add('mysika-toast-visible'),10);if(_0x4a5f>0){setTimeout(()=>{_0x8d9e.classList.remove('mysika-toast-visible');_0x8d9e.addEventListener('transitionend',()=>_0x8d9e.remove())},_0x4a5f)}}async function _0xf0a1(_0xb2c3){const _0xd4e5=_0xf6a7=>new Promise(_0xb8c9=>setTimeout(_0xb8c9,_0xf6a7));const _0xdaeb=document.querySelector('button.btn-simpan.is-primary')?'layanan':'edom';_0x3a0c('Mengisi kuesioner...','info',0);try{const _0xfc0d=document.querySelectorAll('.soal-kuesioner-table tbody tr');for(const _0x1e2f of _0xfc0d){let _0x3041=null;if(_0xb2c3==='sangat-baik'){_0x3041=_0x1e2f.querySelector('td:nth-child(3) input[type="radio"][value="1"]')}else if(_0xb2c3==='baik'){_0x3041=_0x1e2f.querySelector('td:nth-child(4) input[type="radio"][value="2"]')}else if(_0xb2c3==='acak'){const _0x5263=Math.random()<0.7?'sangat-baik':'baik';const _0x7485=_0x5263==='sangat-baik'?'td:nth-child(3) input[type="radio"][value="1"]':'td:nth-child(4) input[type="radio"][value="2"]';_0x3041=_0x1e2f.querySelector(_0x7485)}if(_0x3041){_0x3041.click()}}const _0x96a7=document.querySelectorAll('textarea.textarea');for(const _0xb8c9 of _0x96a7){_0xb8c9.value='ã…¤';_0xb8c9.dispatchEvent(new Event('input',{bubbles:true}))}if(_0xdaeb==='edom'){const _0xf0a1=document.querySelector('input[type="radio"][value="Y"]');if(_0xf0a1)_0xf0a1.click()}const _0xd4e5_2=document.querySelector(_0xdaeb==='edom'?'button.button.is-success':'button.btn-simpan.is-primary');if(_0xd4e5_2){await _0xd4e5(200);_0xd4e5_2.click();await _0xd4e5(500);const _0xf6a7=document.querySelector('div.modal.is-active');if(_0xf6a7){const _0xb8c9=_0xf6a7.querySelector('button.is-success')||Array.from(_0xf6a7.querySelectorAll('button')).find(_0xdaeb=>_0xdaeb.innerText.trim()==='Ya, selesai');if(_0xb8c9){_0x3a0c('Menyimpan dan kembali...','info',0);_0xb8c9.click();setTimeout(()=>{sessionStorage.setItem('mysika_return_from_fill','true');window.location.href='/kuesioner'},500)}}}}catch(_0xfc0d){_0x3a0c('Terjadi kesalahan: '+_0xfc0d.message,'error',5000);sessionStorage.removeItem('mysika_process_all_edom')}}async function _0x1e2f(){const _0x3041=_0x5263=>new Promise(_0x7485=>setTimeout(_0x7485,_0x5263));const _0x96a7=sessionStorage.getItem('mysika_rating_option');if(!_0x96a7){_0x3a0c('Opsi penilaian tidak ditemukan!','error');return}await _0x3041(500);const _0xb8c9=document.querySelectorAll('.b-table .table tbody tr');let _0xdaeb=null;for(const _0xfc0d of _0xb8c9){const _0x1e2f=_0xfc0d.querySelector('.mdi-minus-circle');if(_0x1e2f){_0xdaeb=_0xfc0d.querySelector('button span:last-child');if(_0xdaeb&&_0xdaeb.innerText.trim()==='Jawab'){break}else{_0xdaeb=null}}}if(_0xdaeb){const _0x3041_2=_0xdaeb.closest('tr').querySelector('td[data-label="Mata Kuliah"]').innerText;_0x3a0c(`Memproses: ${_0x3041_2.trim()}...`,'info',1500);await _0x3041(1000);_0xdaeb.closest('button').click()}else{_0x3a0c('Selesai! Semua kuesioner EDOM telah diisi.','success',5000);sessionStorage.removeItem('mysika_process_all_edom');sessionStorage.removeItem('mysika_rating_option')}}function _0x5263(){const _0x7485=document.createElement('div');_0x7485.id='mysika-fab';_0x7485.innerHTML=`<img src="${chrome.runtime.getURL("images/icon48.png")}" alt="MySika">`;const _0x96a7=document.createElement('div');_0x96a7.id='mysika-panel';_0x96a7.classList.add('mysika-hidden');_0x96a7.innerHTML=`
        <div class="mysika-header">
            <div class="mysika-title">MySika Kuesioner</div>
            <div class="mysika-subtitle">Otomatisasi Pengisian</div>
        </div>
        <div class="mysika-content">
            <div class="mysika-options-label">1. Pilih Opsi Penilaian</div>
            <div class="mysika-radio-group">
                <div class="mysika-radio-option">
                    <input type="radio" id="mysika-sangat-baik" name="mysika-rating" value="sangat-baik" checked>
                    <label for="mysika-sangat-baik">Sangat Baik</label>
                </div>
                <div class="mysika-radio-option">
                    <input type="radio" id="mysika-baik" name="mysika-rating" value="baik">
                    <label for="mysika-baik">Baik</label>
                </div>
                <div class="mysika-radio-option">
                    <input type="radio" id="mysika-acak" name="mysika-rating" value="acak">
                    <label for="mysika-acak">Acak</label>
                </div>
            </div>
            <div class="mysika-options-label">2. Pilih Aksi</div>
            <div class="mysika-button-group">
                <button id="mysika-fill-all-edom" class="mysika-action-button special">Isi Semua EDOM Sekaligus</button>
                <button id="mysika-fill-layanan" class="mysika-action-button">Isi Form Layanan Saat Ini</button>
            </div>
        </div>
        <div class="mysika-footer">
            Dibuat oleh <a href="https://www.instagram.com/dandisubhani_" target="_blank">@dandisubhani_</a>
        </div>
    `;document.body.appendChild(_0x7485);document.body.appendChild(_0x96a7);_0x7485.addEventListener('click',()=>{_0x96a7.classList.toggle('mysika-hidden');_0x7485.classList.toggle('mysika-fab-active')});document.getElementById('mysika-fill-all-edom').addEventListener('click',()=>{const _0xb8c9=document.querySelectorAll('.b-table .table tbody tr .mdi-minus-circle');if(_0xb8c9.length===0){_0x3a0c('Semua kuesioner EDOM sudah terisi.','success');return}const _0xdaeb=document.querySelector('input[name="mysika-rating"]:checked').value;sessionStorage.setItem('mysika_process_all_edom','true');sessionStorage.setItem('mysika_rating_option',_0xdaeb);_0x96a7.classList.add('mysika-hidden');_0x7485.classList.remove('mysika-fab-active');_0x1e2f()});document.getElementById('mysika-fill-layanan').addEventListener('click',()=>{const _0xb8c9=document.querySelector('.soal-kuesioner-table')&&document.querySelector('button.btn-simpan.is-primary');if(_0xb8c9){const _0xdaeb=document.querySelector('input[name="mysika-rating"]:checked').value;_0xf0a1(_0xdaeb)}else{_0x3a0c('Buka tab "Layanan" lalu isi formnya terlebih dahulu.','error',4000)}})}window.addEventListener('load',()=>{_0x5263();const _0x7485=sessionStorage.getItem('mysika_process_all_edom')==='true';const _0x96a7=sessionStorage.getItem('mysika_return_from_fill')==='true';const _0xb8c9=sessionStorage.getItem('mysika_rating_option');if(_0x7485){if(window.location.href.includes('makul_kuesioner_proses_pembelajaran')){_0xf0a1(_0xb8c9)}else if(_0x96a7){sessionStorage.removeItem('mysika_return_from_fill');_0x1e2f()}}});
